<!-- 未完待续.... -->


#### 数据绑定

>插值{{}}语法

- 内容绑定

- 属性绑定

```xml
  <!-- 如下才是正确表示布尔值 false 的方法 -->
  <switch checked="{{false}}" />
```

>简易双向绑定

module:value 仅在input和textarea中支持数据双向绑定

```xml
 <!-- 双向数据绑定 -->
  <input type="text" model:value="{{message}}" />
  <view class="message">{{message}}</view>
```

#### 条件渲染

>控制属性：vx:if和vx:else

```xml
<view >
  <text wx:if="{{isLogin}}">大师兄</text>
  <text wx:else>游客</text>你好:
</view>
```

>组件属性:hidden(类似于display:none)

```xml
<view>
  <!-- 可以单独使用 -->
  <!-- <text wx:if="{{!loaded}}">正在加载...</text> -->
  <text hidden="{{loaded}}">正在加载...</text>
</view>
```

#### 列表渲染

- `wx:for` 根据数组重复渲染组件内容
  - `index` 默认值，访问数组的索引值
  - `item` 默认值，访问数组的单元值
- `wx:key` 列表项的唯一标识符（不使用 {{}}）
  - 数组单元是对象时，只需要写属性名
  - 数组单元是简单类型时，推荐使用 `*this`(指代单元本身)
- `wx:for-index` 自定义访问数组索引的变量名
- `wx:for-item` 自定义访问数组单元的变量名


```xml
<!-- 列表渲染 -->

  <view vx:for='{{students}}' vx:key='id'>
    <text>{{index}}</text>
    <text>{{item.name}}</text>
    <text>{{item.age}}</text>
    <text>{{item.gender}}</text>
    <text>{{item.level}}</text>
  </view>

<!-- 简单数组 -->
  <text vx:for='{{history}}'vx:key='*this'>{{item}}</text>

  <!-- 自定义渲染 -->
<view vx:for='{{students}}' vx:key='id' vx:for-index='ind' vx:for-item='stu' >
    <text>{{ind}}</text>
    <text>{{stu.name}}</text>
    <text>{{stu.age}}</text>
    <text>{{stu.gender}}</text>
    <text>{{stu.level}}</text>
  </view>

```

```javascript
Page({
  data: {
    students: [
      {id: 1, name: '贺洋', age: 20, gender: '男', level: '菜鸟'},
      {id: 2, name: '唐刚', age: 18, gender: '女', level: '笨鸟'},
      {id: 3, name: '常超', age: 20, gender: '女', level: '老鸟'}
    ],
    history: ['苹果', '华为', 'OPPO', '三星']
  }
})
```

#### 小程序事件处理

>获取自定义属性和传值

- ev.mark:

- ev.target.dataset:

```xml
<!-- 自定义属性可以是：data-xxx；或者mark：xxx    -->
<!-- mark自定义的属性和值通过ev.mark获取； data-xxx自定义的属性和值通过ev.target.dataset-->
<view mark:key='1' data-index='11'>
</view>
```

#### 常用页面生命周期

- onLoad：

  1. 页面加载完执行一次

  2. 常用于获取地址参数、发起网络请求

- onShow：

  1. 页面处于可见状态时执行

  2. 常用于动态更新状态或数据

- onHide：

  1. 页面处于不可见状态时执行

  2. 常用于销毁长时间运行的任务，如定时器等。

#### 常用应用生命周期

- onLaunch

  1. 小程序启动时会执行一次

  2. 常用于获取场景值或参数

- onShow

  1. 小程序处于前台运行时执行

- onHide
  1. 小程序处于后台运行时执行